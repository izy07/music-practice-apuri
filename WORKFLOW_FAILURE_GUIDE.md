# ワークフロー失敗の対処法

## 🔍 まず確認すべきこと

### 1. エラーの詳細を確認

失敗したワークフローをクリックして、エラーの詳細を確認してください：

1. **Actions タブで失敗したワークフローをクリック**
   - 例: "Deploy to GitHub Pages #6" をクリック

2. **失敗したジョブをクリック**
   - 例: "build" または "deploy" ジョブ

3. **エラーメッセージを確認**
   - どのステップで失敗したか
   - エラーメッセージの内容

## 🔧 よくあるエラーと対処法

### エラー1: スクリプトが見つからない

**エラーメッセージ例:**
```
Error: Cannot find module 'scripts/fix-github-pages-paths.js'
```

**対処法:**
- スクリプトファイルが存在するか確認
- ファイルパスが正しいか確認

### エラー2: ビルドエラー

**エラーメッセージ例:**
```
Error: Command failed: npm run build:web:github
```

**対処法:**
- ローカルでビルドを試す: `npm run build:web:github`
- エラーメッセージを確認

### エラー3: 権限エラー

**エラーメッセージ例:**
```
Error: Permission denied
```

**対処法:**
- ワークフローの権限設定を確認
- `pages: write` と `id-token: write` が設定されているか確認

## ✅ 再実行の手順

### 方法1: 手動で再実行（推奨）

1. **Actions タブを開く**
2. **左側のメニューから `Deploy to GitHub Pages` を選択**
3. **右上の "Run workflow" をクリック**
4. **ブランチを選択**（通常は `main`）
5. **"Run workflow" をクリック**

### 方法2: コードを修正して再プッシュ

エラーの原因を修正した後：

```bash
git add .
git commit -m "Fix: ワークフローエラーの修正"
git push origin main
```

これで自動的にワークフローが再実行されます。

## 📊 確認すべきワークフロー

優先順位：

1. **Deploy to GitHub Pages** ⭐ 最重要
   - これが成功すれば、アプリが表示されます

2. **CI/CD Pipeline**
   - テストやビルドの確認

3. **Test with Database**
   - データベース関連のテスト

## 🎯 次のステップ

1. **まず、失敗したワークフローのエラーログを確認**
2. **エラーの原因を特定**
3. **必要に応じてコードを修正**
4. **再実行**

**重要**: エラーの詳細を確認せずに再実行しても、同じエラーが再発する可能性があります。

